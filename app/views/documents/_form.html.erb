<%= form_with(model: document, class: "contents", multipart: true ) do |form| %>
  <% if document.errors.any? %>
    <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-lg mt-3">
      <h2><%= pluralize(document.errors.count, "error") %> prohibited this document from being saved:</h2>

      <ul>
        <% document.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mt-3 bg-green-50 rounded-lg my-2 p-4">
    <div class="my-3 font-bold ">
      Select parent category (if any)
    </div>
    <div data-controller="category" class="flex flex-row gap-3">
      <%= render partial: "categories/subcategory_select", locals: { categories: @categories, level: 0, sub_categories: [], selected_id: "" } %>
    </div>
  </div>

  <div class="mt-3 bg-green-50 rounded-lg p-4" >
    <%= file_field_tag :document_file %>
  </div>

  <div class="mt-3">
    <%= form.label :title, "Name",class: "block" %>
    <%= form.text_field :title, placeholder: "Enter name of category", class: "p-2 rounded-lg outline-none ring-1 ring-green-600
    focus:ring-2" %>
  </div>

  <div class="mt-3">
    <%= form.label :description, "Description", class: "block" %>
    <%= form.text_area :description, placeholder: "Enter Description of category",
    class: "p-2 rounded-lg outline-none resize-none ring-1 ring-green-600 focus:ring-2 w-full",
    rows: 4 %>
  </div>

  <div class="mt-3">
    <%= label :text_content, "Enter text content (if any)", class: "block" %>
    <%= text_area :text_content, :text,
    class: "p-2 rounded-lg outline-none resize-none ring-1 ring-green-600 focus:ring-2 w-full",
    rows: 4, placeholder: "Enter text content" %>
  </div>


  <div class="mt-3">
    <%= form.label :keywords, "Keywords", class: "block" %>
    <%= form.text_field :keywords, placeholder: "Enter Remarks(if any)",
    class: "p-2 rounded-lg outline-none ring-1 ring-green-600 focus:ring-2" %>
  </div>

  <div class=" flex flex-row mt-8">
    <button class="px-5 py-2 rounded-lg text-white bg-green-600">
      Create Category
    </button>
   <div>
    <%= link_to "Back to documents", documents_path, class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
   </div>
  </div>
<% end %>
